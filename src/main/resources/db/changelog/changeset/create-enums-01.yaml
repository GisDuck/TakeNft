databaseChangeLog:
  - changeSet:
      id: create-friend-duel-enums
      author: GisDuck
      changes:
        - sql:
            splitStatements: false
            stripComments: false
            sql: |
              DO $$ BEGIN
                IF NOT EXISTS (SELECT 1 FROM pg_type WHERE typname = 'add_friends_setting') THEN
                  CREATE TYPE add_friends_setting AS ENUM (
                    'NOBODY',
                    'FRIENDS_OF_FRIENDS',
                    'ALL'
                  );
                END IF;
                
                IF NOT EXISTS (SELECT 1 FROM pg_type WHERE typname = 'send_duel_setting') THEN
                  CREATE TYPE send_duel_setting AS ENUM (
                    'NOBODY',
                    'FRIENDS',
                    'ALL'
                  );
                END IF;
              END $$;